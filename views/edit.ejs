<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Post</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div class="bg-black w-full min-h-screen bg-[url('https://i.pinimg.com/originals/4b/83/89/4b83894b773fd392b3c4b11ce42d5f2e.gif')] bg-no-repeat bg-center bg-[size:30%]  p-10 text-white">
        <div class="w-full flex justify-end">
            <a class="bg-red-500 rounded-md px-3 text-sm py-2 inline-block mb-5 text-center" href="/logout">Logout</a>
        </div>

        <h5 class="mb-5 mt-1">You can edit your post here</h5>

        <form method="post" action="/update/<%=post._id%>">
            <textarea placeholder="What's on your mind?"
                class="block outline-none p-3 w-1/3 resize-none bg-transparent border-2 border-zinc-800 rounded-md"
                name="content" oninput="autoResize(this)"><%= post.content %></textarea>

            <!-- Add this for image URL editing -->
            <input type="text" name="image" value="<%= post.image || '' %>" placeholder="Image URL (optional)"
                class="block mt-3 outline-none p-2 w-1/3 bg-transparent border-2 border-zinc-800 rounded-md text-sm" />

            <input class="px-3 py-2 bg-yellow-500 text-black font-bold text-sm block w-40 rounded-md mt-4" type="submit"
                value="Update Post">
        </form>
    </div>

    <script>
        function autoResize(textarea) {
            textarea.style.height = "auto";
            textarea.style.height = textarea.scrollHeight + "px";
        }

        document.addEventListener("DOMContentLoaded", () => {
            const ta = document.querySelector('textarea');
            if (ta) autoResize(ta);
        });
    </script>
    <footer class="bg-gray-900 text-white py-4 text-center ">
        <p class="text-sm">&copy; 2025 Made by <strong>The TMK Show</strong>. All rights reserved.</p>
      </footer>
      
</body>

</html>
